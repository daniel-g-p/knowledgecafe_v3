(function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);m&&m(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},c={app:0},a=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0a7d3db9":"7eb49889","chunk-22347ed0":"6e538c7f","chunk-350b7c41":"66cc272c","chunk-5dc824e2":"ca151306","chunk-6df27e54":"a58f1ea4","chunk-6e4149c5":"e1fca6dc","chunk-75fad511":"c00a668e","chunk-a96ba67c":"68cbd61c","chunk-be7609b8":"1207467f","chunk-c6b1dbdc":"96b5057c"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0a7d3db9":1,"chunk-22347ed0":1,"chunk-350b7c41":1,"chunk-5dc824e2":1,"chunk-6df27e54":1,"chunk-6e4149c5":1,"chunk-75fad511":1,"chunk-a96ba67c":1,"chunk-be7609b8":1,"chunk-c6b1dbdc":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0a7d3db9":"a60ece36","chunk-22347ed0":"b8ea88ca","chunk-350b7c41":"7a646103","chunk-5dc824e2":"77c22aa9","chunk-6df27e54":"14696ec9","chunk-6e4149c5":"ef895621","chunk-75fad511":"02df40ba","chunk-a96ba67c":"3e02abc9","chunk-be7609b8":"a89e4442","chunk-c6b1dbdc":"01661fcb"}[e]+".css",c=s.p+r,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var u=a[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===c))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===r||l===c)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],m.parentNode.removeChild(m),n(a)},m.href=c;var b=document.getElementsByTagName("head")[0];b.appendChild(m)})).then((function(){o[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}c[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01e8":function(e,t,n){"use strict";n("71ed")},"03d5":function(e,t,n){},"06c1":function(e,t,n){"use strict";n("4d8c")},"077b":function(e,t,n){},"0a54":function(e,t,n){},"0e8a":function(e,t,n){},"142f":function(e,t,n){"use strict";n("c4e9")},1715:function(e,t,n){},"1e29":function(e,t,n){"use strict";n("1715")},"24d6":function(e,t,n){"use strict";n("994f")},"271c":function(e,t,n){"use strict";n("54f5")},"2f20":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o=Object(r["l"])("Registrierung"),c=Object(r["l"])("Registrieren");function a(e,t,n,a,i,s){var u=Object(r["G"])("base-title"),l=Object(r["G"])("base-textbox"),d=Object(r["G"])("base-button"),m=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["j"])("form",{class:"form",onSubmit:t[12]||(t[12]=Object(r["M"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(r["m"])(u,null,{default:Object(r["L"])((function(){return[o]})),_:1}),Object(r["m"])(l,{label:"Emailadresse",id:"email",error:i.errors.email,modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.email=e}),disabled:!0,onRemoveError:t[1]||(t[1]=function(e){return s.removeError("email")})},null,8,["error","modelValue"]),Object(r["m"])(l,{label:"Name",id:"name",error:i.errors.name,modelValue:i.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.name=e}),onRemoveError:t[3]||(t[3]=function(e){return s.removeError("name")})},null,8,["error","modelValue"]),Object(r["m"])(l,{label:"Benutzername",id:"username",error:i.errors.username,"error-message":"Der Benutzername enthält ungültgige Zeichen.",modelValue:i.username,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.username=e}),onRemoveError:t[5]||(t[5]=function(e){return s.removeError("username")})},null,8,["error","modelValue"]),Object(r["m"])(l,{label:"Passwort",id:"password",type:"password",error:i.errors.password,"error-message":"Mindestens 1 Großbuchstabe, 1 Kleinbuchstabe, 1 Zahl, und 1 Sonderzeichen erforderlich.",modelValue:i.password,"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.password=e}),onRemoveError:t[7]||(t[7]=function(e){return s.removeError("password")})},null,8,["error","modelValue"]),Object(r["m"])(l,{label:"Passwort bestätigen",id:"confirmPassword",type:"password",error:i.errors.confirmPassword,"error-message":"Die Passwörter stimmen nicht überein.",modelValue:i.confirmPassword,"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.confirmPassword=e}),onRemoveError:t[9]||(t[9]=function(e){return s.removeError("confirmPassword")})},null,8,["error","modelValue"]),Object(r["m"])(l,{label:"Sicherheitscode",id:"token",error:i.errors.token,modelValue:i.token,"onUpdate:modelValue":t[10]||(t[10]=function(e){return i.token=e}),onRemoveError:t[11]||(t[11]=function(e){return s.removeError("token")})},null,8,["error","modelValue"]),Object(r["m"])(d,{loading:i.buttonLoading},{default:Object(r["L"])((function(){return[c]})),_:1},8,["loading"])],32),Object(r["m"])(m,{title:"Fehler",open:i.modal.open,onCloseModal:s.closeModal},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(i.modal.message),1)]})),_:1},8,["open","onCloseModal"])],64)}n("99af"),n("d3b7"),n("ac1f"),n("5319");var i={data:function(){return{name:"",email:"",username:"",password:"",confirmPassword:"",token:"",errors:{name:!1,email:!1,username:!1,password:!1,confirmPassword:!1},modal:{open:!1,message:""},buttonLoading:!1}},methods:{closeModal:function(){this.modal.open=!1},removeError:function(e){this.errors[e]=!1},validateForm:function(){this.name||(this.errors.name=!0);var e=/^[a-zA-Z0-9._-]+$/;this.username&&e.test(this.username)||(this.errors.username=!0);var t=/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[._\-!?@#$%^&+=])./;this.password&&t.test(this.password)?this.confirmPassword!==this.password&&(this.errors.confirmPassword=!0):this.errors.password=!0,this.token||(this.errors.token=!0)},submitForm:function(){var e=this;if(this.validateForm(),!(this.errors.name||this.errors.email||this.errors.username||this.errors.password||this.errors.confirmPassword||this.errors.token)){var t={email:this.email,name:this.name,username:this.username,password:this.password,confirmPassword:this.confirmPassword,token:this.token},n="".concat("https://knowledgecafe.herokuapp.com/api","/account/registration/").concat(this.$route.params.userId),r={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};this.buttonLoading=!0,fetch(n,r).then((function(e){return e.json()})).then((function(t){t.ok?e.$router.replace({name:"login"}):(e.modal.message=t.message||"Ein Fehler ist aufgetreten, bitte versuche es später nochmal.",e.modal.open=!0)})).catch((function(e){console.log(e)})).finally((function(){e.buttonLoading=!1}))}}},mounted:function(){var e=this,t="".concat("https://knowledgecafe.herokuapp.com/api","/account/registration/").concat(this.$route.params.userId);fetch(t).then((function(e){return e.json()})).then((function(t){t.ok?(e.id=t.user._id,e.name=t.user.name,e.email=t.user.email):e.$router.replace({name:"login"})})).catch((function(e){console.log(e)}))}},s=(n("c04b"),n("6b0d")),u=n.n(s);const l=u()(i,[["render",a],["__scopeId","data-v-cde0ea76"]]);t["default"]=l},"32a2":function(e,t,n){},3319:function(e,t,n){},"332a":function(e,t,n){"use strict";n("7641")},3601:function(e,t,n){},3643:function(e,t,n){"use strict";n("cb7b")},"391a":function(e,t,n){"use strict";n("3319")},"3c49":function(e,t,n){},4044:function(e,t,n){"use strict";n("ac0b")},"40e4":function(e,t,n){},"42cf":function(e,t,n){"use strict";n("8430")},"431f":function(e,t,n){"use strict";n("9f6c")},4596:function(e,t,n){},"4d8c":function(e,t,n){},"506b":function(e,t,n){},"507b":function(e,t,n){},"54f5":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("7a23");function o(e,t){var n=Object(r["G"])("router-view");return Object(r["y"])(),Object(r["g"])(n)}n("95b5");var c=n("6b0d"),a=n.n(c);const i={},s=a()(i,[["render",o]]);var u=s,l=n("6c02"),d={class:"home"},m=Object(r["j"])("div",{class:"home__background"},null,-1),b={class:"home__content"},f=Object(r["j"])("h1",{class:"home__title"},"Willkommen im Knowledge Café!",-1),h=Object(r["l"])(" Zur Karte ");function p(e,t,n,o,c,a){var i=Object(r["G"])("icon-logo"),s=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])("main",d,[m,Object(r["j"])("div",b,[Object(r["m"])(i,{color:"color",height:6}),f,Object(r["m"])(s,{color:"gold",type:"link",link:c.shopLink},{default:Object(r["L"])((function(){return[h]})),_:1},8,["link"])])])}var v={data:function(){return{shopLink:{name:"shop"},loginLink:{name:"login"}}}};n("3643");const j=a()(v,[["render",p]]);var O=j,g={name:"welcome",path:"/",component:O},_=(n("b0c0"),{class:"shop"}),y={class:"shop__admin"},w=Object(r["l"])("Zurück"),k=Object(r["l"])("Unser Angebot"),M={class:"shop__list"},I={key:0};function E(e,t,n,o,c,a){var i=Object(r["G"])("base-button"),s=Object(r["G"])("base-title"),u=Object(r["G"])("shop-item"),l=Object(r["G"])("shop-item-modal"),d=Object(r["G"])("shop-checkout");return Object(r["y"])(),Object(r["i"])("main",_,[Object(r["j"])("div",y,[a.isLoggedIn?(Object(r["y"])(),Object(r["g"])(i,{key:0,type:"link",link:a.adminLink},{default:Object(r["L"])((function(){return[w]})),_:1},8,["link"])):Object(r["h"])("",!0)]),Object(r["m"])(s,null,{default:Object(r["L"])((function(){return[k]})),_:1}),Object(r["j"])("section",M,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.shopItems,(function(e){return Object(r["y"])(),Object(r["g"])(u,{id:e._id,name:e.name,price:e.price,onSelectProduct:a.toggleProduct},null,8,["id","name","price","onSelectProduct"])})),256)),a.shopItems.length?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("p",I,"Es wurden keine Produkte gefunden."))]),Object(r["m"])(l,{open:!!c.activeId,id:c.activeId,name:a.activeName,variations:a.activeVariations,onCloseModal:a.toggleProduct},null,8,["open","id","name","variations","onCloseModal"]),Object(r["m"])(d,{onToggleCheckout:a.toggleProduct},null,8,["onToggleCheckout"])])}n("7db0");var L={class:"product__name"},P={class:"product__price"};function S(e,t,n,o,c,a){var i=Object(r["G"])("base-card");return Object(r["y"])(),Object(r["g"])(i,null,{default:Object(r["L"])((function(){return[Object(r["j"])("div",{class:"product",onClick:t[0]||(t[0]=function(){return a.selectProduct&&a.selectProduct.apply(a,arguments)})},[Object(r["j"])("div",L,Object(r["I"])(n.name),1),Object(r["j"])("div",P,Object(r["I"])(a.formattedPrice),1)])]})),_:1})}n("a9e3"),n("25f0"),n("99af"),n("fb6a");var V={props:{id:{type:String,required:!0},name:{type:String,required:!0},price:{type:Number,required:!0}},emits:["select-product"],computed:{formattedPrice:function(){var e=(100*this.price).toString(),t=e.length;return"€".concat(e.slice(0,t-2),",").concat(e.slice(t-2))}},methods:{selectProduct:function(){this.$emit("select-product",this.id)}}};n("431f");const C=a()(V,[["render",S],["__scopeId","data-v-33b9edf3"]]);var z=C,G={class:"form"},q=Object(r["l"])("Hinzufügen");function x(e,t,n,o,c,a){var i=Object(r["G"])("shop-item-quantity"),s=Object(r["G"])("base-select"),u=Object(r["G"])("base-button"),l=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["g"])(l,{title:n.name,open:n.open,onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return[Object(r["j"])("div",G,[Object(r["m"])(i,{modelValue:c.quantity,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.quantity=e})},null,8,["modelValue"]),a.selectOptions.length?(Object(r["y"])(),Object(r["g"])(s,{key:0,options:a.selectOptions,error:c.selectError,name:"Sorte auswählen",modelValue:c.variation,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.variation=e}),onRemoveError:a.removeSelectError},null,8,["options","error","modelValue","onRemoveError"])):Object(r["h"])("",!0)]),Object(r["m"])(u,{onClick:a.addItem},{default:Object(r["L"])((function(){return[q]})),_:1},8,["onClick"])]})),_:1},8,["title","open","onCloseModal"])}n("d81d");var T=function(e){return Object(r["B"])("data-v-8caa96ac"),e=e(),Object(r["z"])(),e},F={class:"quantity"},$=T((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"quantity__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"})],-1)})),A=[$],B={class:"quantity__indicator"},N=T((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"quantity__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1)})),D=[N];function R(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",F,[Object(r["j"])("button",{class:"quantity__button",onClick:t[0]||(t[0]=function(){return a.minusOne&&a.minusOne.apply(a,arguments)})},A),Object(r["j"])("div",B,Object(r["I"])(n.modelValue),1),Object(r["j"])("button",{class:"quantity__button",onClick:t[1]||(t[1]=function(){return a.plusOne&&a.plusOne.apply(a,arguments)})},D)])}var U={props:{modelValue:{type:Number,required:!0}},emits:["update:modelValue"],methods:{plusOne:function(){this.modelValue<5&&this.$emit("update:modelValue",this.modelValue+1)},minusOne:function(){this.modelValue>1&&this.$emit("update:modelValue",this.modelValue-1)}}};n("cb5f");const H=a()(U,[["render",R],["__scopeId","data-v-8caa96ac"]]);var Z=H,K={components:{ShopItemQuantity:Z},props:{open:{type:Boolean,default:!1},id:{type:String},name:{type:String},variations:{type:Array,default:[]}},emits:["close-modal"],data:function(){return{quantity:1,variation:"",selectError:!1}},computed:{selectOptions:function(){return this.variations.map((function(e,t){return{id:"option".concat(t),label:e}}))}},methods:{closeModal:function(){this.quantity=1,this.variation="",this.selectError=!1,this.$emit("close-modal")},removeSelectError:function(){this.selectError=!1},addItem:function(){var e=this;if(!this.variation&&this.selectOptions.length)this.selectError=!0;else{var t=this.selectOptions.find((function(t){return t.id===e.variation})),n={id:this.id,quantity:this.quantity,variation:t?t.label:""};this.$store.dispatch("shop/addCartItem",n),this.closeModal()}}}};n("754a");const J=a()(K,[["render",x],["__scopeId","data-v-2644214c"]]);var Y=J,Q={class:"checkout__content"};function W(e,t,n,o,c,a){var i=Object(r["G"])("shop-checkout-summary"),s=Object(r["G"])("shop-checkout-items"),u=Object(r["G"])("shop-checkout-form"),l=Object(r["G"])("shop-confirmation");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(r["c"],{name:"checkout-"},{default:Object(r["L"])((function(){return[a.cartItems.length?(Object(r["y"])(),Object(r["i"])("section",{key:0,class:Object(r["t"])(["checkout",a.collapsedClass])},[Object(r["j"])("div",Q,[Object(r["j"])("div",null,[Object(r["m"])(i,{collapsed:c.checkoutCollapsed,onToggleCheckout:a.toggleCheckout},null,8,["collapsed","onToggleCheckout"]),Object(r["m"])(s,{items:a.cartItems,collapsed:c.checkoutCollapsed,onRemoveItem:a.removeItem},null,8,["items","collapsed","onRemoveItem"])]),Object(r["m"])(u,{collapsed:c.checkoutCollapsed,onConfirmOrder:a.confirmOrder},null,8,["collapsed","onConfirmOrder"])])],2)):Object(r["h"])("",!0)]})),_:1}),Object(r["m"])(l,{open:c.confirmation.open,message:c.confirmation.text,onCloseConfirmation:a.closeConfirmation},null,8,["open","message","onCloseConfirmation"])],64)}var X=function(e){return Object(r["B"])("data-v-502d63fb"),e=e(),Object(r["z"])(),e},ee={class:"summary"},te={class:"summary__total"},ne={key:0,xmlns:"http://www.w3.org/2000/svg",class:"summary__icon",viewBox:"0 0 16 16"},re=X((function(){return Object(r["j"])("path",{d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"},null,-1)})),oe=[re],ce={key:1,xmlns:"http://www.w3.org/2000/svg",class:"summary__icon",viewBox:"0 0 16 16"},ae=X((function(){return Object(r["j"])("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"},null,-1)})),ie=X((function(){return Object(r["j"])("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"},null,-1)})),se=[ae,ie];function ue(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",ee,[Object(r["j"])("div",te,Object(r["I"])(a.formattedTotal),1),Object(r["j"])("button",{class:Object(r["t"])(["summary__button",a.animatedButton]),onClick:t[0]||(t[0]=function(){return a.toggleCheckout&&a.toggleCheckout.apply(a,arguments)})},[Object(r["m"])(r["c"],{name:"summary__icon-"},{default:Object(r["L"])((function(){return[n.collapsed?(Object(r["y"])(),Object(r["i"])("svg",ne,oe)):(Object(r["y"])(),Object(r["i"])("svg",ce,se))]})),_:1})],2)])}var le={props:{collapsed:{type:Boolean,required:!0}},data:function(){return{buttonHighlighted:!1}},computed:{total:function(){return this.$store.getters["shop/cartTotal"]},formattedTotal:function(){var e=(100*this.total).toString(),t=e.length;return"€".concat(e.slice(0,t-2),",").concat(e.slice(t-2))},animatedButton:function(){return{"summary__button--highlighted":this.buttonHighlighted&&this.collapsed}}},methods:{toggleCheckout:function(){this.$emit("toggle-checkout")}},watch:{total:function(e){var t=this;this.buttonHighlighted=!0,setTimeout((function(){t.buttonHighlighted=!1}),750)}}};n("24d6");const de=a()(le,[["render",ue],["__scopeId","data-v-502d63fb"]]);var me=de,be={key:0,class:"items"};function fe(e,t,n,o,c,a){var i=Object(r["G"])("shop-checkout-item");return Object(r["y"])(),Object(r["g"])(r["c"],{name:"items-"},{default:Object(r["L"])((function(){return[n.collapsed?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("section",be,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(n.items,(function(e){return Object(r["y"])(),Object(r["g"])(i,{key:"".concat(e.id,"-").concat(e.variation),id:e.id,name:e.name,variation:e.variation,quantity:e.quantity,price:e.price,onRemoveItem:a.removeItem},null,8,["id","name","variation","quantity","price","onRemoveItem"])})),128))]))]})),_:1})}var he=function(e){return Object(r["B"])("data-v-e07dca28"),e=e(),Object(r["z"])(),e},pe={class:"item"},ve=he((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"item__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(r["j"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)})),je=[ve],Oe={class:"item__details"};function ge(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",pe,[Object(r["j"])("button",{class:"item__button",onClick:t[0]||(t[0]=function(){return a.removeItem&&a.removeItem.apply(a,arguments)})},je),Object(r["j"])("div",Oe,Object(r["I"])(a.itemDetails),1)])}var _e={props:{id:{type:String,required:!0},name:{type:String,required:!0},variation:{type:String,required:!0},quantity:{type:Number,required:!0},price:{type:Number,required:!0}},emits:["remove-item"],computed:{itemDetails:function(){var e=this.variation?" (".concat(this.variation,")"):"";return"".concat(this.quantity," x ").concat(this.name).concat(e)}},methods:{removeItem:function(){this.$store.dispatch("shop/removeCartItem",{id:this.id,variation:this.variation}),this.$emit("remove-item")}}};n("a442");const ye=a()(_e,[["render",ge],["__scopeId","data-v-e07dca28"]]);var we=ye,ke={components:{ShopCheckoutItem:we},props:{items:{type:Array,required:!0},collapsed:{type:Boolean,required:!0}},emits:["remove-item"],methods:{removeItem:function(){this.$emit("remove-item")}}};n("06c1");const Me=a()(ke,[["render",fe],["__scopeId","data-v-777bb454"]]);var Ie=Me,Ee=Object(r["l"])("Bestellen");function Le(e,t,n,o,c,a){var i=Object(r["G"])("base-textbox"),s=Object(r["G"])("base-select"),u=Object(r["G"])("base-button"),l=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(r["c"],{name:"form-"},{default:Object(r["L"])((function(){return[n.collapsed?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("form",{key:0,class:"form",onSubmit:t[5]||(t[5]=Object(r["M"])((function(){return a.submitForm&&a.submitForm.apply(a,arguments)}),["prevent"]))},[Object(r["m"])(i,{label:"Name",id:"name",error:c.errors.name,modelValue:c.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.name=e}),onRemoveError:t[1]||(t[1]=function(e){return a.removeError("name")})},null,8,["error","modelValue"]),Object(r["m"])(s,{options:c.paymentOptions,error:c.errors.paymentMethod,name:"Zahlungsmethode",modelValue:c.paymentMethod,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.paymentMethod=e}),onRemoveError:t[3]||(t[3]=function(e){return a.removeError("paymentMethod")})},null,8,["options","error","modelValue"]),Object(r["m"])(i,{type:"textarea",label:"Sonderwünsche",id:"comments",modelValue:c.comments,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.comments=e})},null,8,["modelValue"]),Object(r["m"])(u,{loading:c.buttonLoading},{default:Object(r["L"])((function(){return[Ee]})),_:1},8,["loading"])],32))]})),_:1}),Object(r["m"])(l,{open:c.modal.open,title:c.modal.title,onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return[Object(r["j"])("p",null,Object(r["I"])(c.modal.text),1)]})),_:1},8,["open","title","onCloseModal"])],64)}var Pe={props:{collapsed:{type:Boolean,required:!0}},emits:["confirm-order"],data:function(){return{name:"",comments:"",paymentMethod:"",paymentOptions:[{id:"cash",label:"Bar an der Kasse"},{id:"card",label:"Karte"},{id:"paypal",label:"Paypal"}],errors:{name:!1,paymentMethod:!1},modal:{open:!1,title:"",text:""},buttonLoading:!1}},methods:{removeError:function(e){this.errors[e]=!1},validateForm:function(){return this.name||(this.errors.name=!0),this.paymentMethod||(this.errors.paymentMethod=!0),!(!this.name||!this.paymentMethod)},submitForm:function(){var e=this;if(this.validateForm()){var t={name:this.name,comments:this.comments,paymentMethod:this.paymentMethod,items:this.$store.getters["shop/cartItems"]},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};this.buttonLoading=!0,fetch("".concat("https://knowledgecafe.herokuapp.com/api","/shop"),n).then((function(e){return e.json()})).then((function(t){t.ok?e.$emit("confirm-order",t.message):(e.modal.title="Fehler",e.modal.text=t.message,e.modal.open=!0)})).catch((function(e){console.log(e)})).finally((function(){e.buttonLoading=!1}))}},closeModal:function(){this.modal.open=!1}}};n("f6ca");const Se=a()(Pe,[["render",Le],["__scopeId","data-v-3a69cbfc"]]);var Ve=Se,Ce=function(e){return Object(r["B"])("data-v-6f24e9e5"),e=e(),Object(r["z"])(),e},ze=Ce((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"modal__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{class:"modal__icon--1",d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"}),Object(r["j"])("path",{class:"modal__icon--2",d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"})],-1)})),Ge={class:"modal__text"};function qe(e,t,n,o,c,a){var i=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["g"])(i,{open:n.open,title:"Danke!",onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return[ze,Object(r["j"])("p",Ge,Object(r["I"])(n.message),1)]})),_:1},8,["open","onCloseModal"])}var xe={props:{open:{type:Boolean,required:!0},message:{type:String,required:!0}},emits:["close-confirmation"],methods:{closeModal:function(){this.$emit("close-confirmation")}}};n("42cf");const Te=a()(xe,[["render",qe],["__scopeId","data-v-6f24e9e5"]]);var Fe=Te,$e={components:{ShopCheckoutSummary:me,ShopCheckoutItems:Ie,ShopCheckoutForm:Ve,ShopConfirmation:Fe},emits:["toggle-checkout"],data:function(){return{checkoutCollapsed:!0,confirmation:{open:!1,text:""}}},computed:{cartItems:function(){return this.$store.getters["shop/cartItems"]},collapsedClass:function(){return{"checkout--collapsed":this.checkoutCollapsed}}},methods:{toggleCheckout:function(){this.checkoutCollapsed=!this.checkoutCollapsed,this.$emit("toggle-checkout")},removeItem:function(){this.cartItems.length||this.toggleCheckout()},confirmOrder:function(e){var t=this;this.$store.dispatch("shop/clearCart"),setTimeout((function(){t.checkoutCollapsed=!0,t.confirmation.text=e,t.confirmation.open=!0}),500)},closeConfirmation:function(){this.confirmation.open=!1,this.$router.push({name:this.$store.getters["authentication/loggedIn"]?"orders":"welcome"})}}};n("c631");const Ae=a()($e,[["render",W],["__scopeId","data-v-93fbb938"]]);var Be=Ae,Ne={components:{ShopItem:z,ShopItemModal:Y,ShopCheckout:Be},data:function(){return{activeId:""}},computed:{shopItems:function(){return this.$store.getters["shop/shopItems"]},activeName:function(){var e=this;if(this.activeId){var t=this.shopItems.find((function(t){return t._id===e.activeId})),n=t.name;return n}return""},activeVariations:function(){var e=this;if(this.activeId){var t=this.shopItems.find((function(t){return t._id===e.activeId})),n=t.variations;return n}return[]},isLoggedIn:function(){return this.$store.getters["authentication/loggedIn"]},adminLink:function(){return{name:"orders"}}},methods:{toggleProduct:function(e){this.activeId=e||""}},mounted:function(){this.shopItems.length||this.$store.dispatch("shop/fetchItems")}};n("391a");const De=a()(Ne,[["render",E],["__scopeId","data-v-49c21d74"]]);var Re=De,Ue={name:"shop",path:"/karte",component:Re};n("e542"),n("2f20");var He={name:"account",path:"/account",redirect:"/account/login",component:function(){return Promise.resolve().then(n.bind(null,"e542"))},children:[{name:"login",path:"login",component:function(){return n.e("chunk-be7609b8").then(n.bind(null,"61b1"))},beforeEnter:function(e,t,n){fetch("".concat("https://knowledgecafe.herokuapp.com/api","/account/login"),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.ok?n({name:"orders"}):n()})).catch((function(e){console.log(e)}))}},{name:"registration",path:"registrieren/:userId",component:function(){return Promise.resolve().then(n.bind(null,"2f20"))}},{name:"forgot-password",path:"passwort-vergessen",redirect:"/account/login"},{name:"reset-password",path:"neues-passwort/:resetToken",redirect:"/account/login"}]},Ze={class:"main"},Ke={class:"main__content"};function Je(e,t,n,o,c,a){var i=Object(r["G"])("router-view"),s=Object(r["G"])("the-navigation");return Object(r["y"])(),Object(r["i"])("main",Ze,[Object(r["j"])("div",Ke,[Object(r["m"])(i)]),Object(r["m"])(s)])}var Ye=function(e){return Object(r["B"])("data-v-84f16884"),e=e(),Object(r["z"])(),e},Qe={class:"nav"},We=Ye((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"nav__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"}),Object(r["j"])("path",{d:"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"}),Object(r["j"])("path",{d:"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"})],-1)})),Xe=Ye((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"nav__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z"})],-1)})),et=Ye((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"nav__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{"fill-rule":"evenodd",d:"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"}),Object(r["j"])("path",{d:"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"}),Object(r["j"])("path",{"fill-rule":"evenodd",d:"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"})],-1)})),tt=Ye((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"nav__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})],-1)})),nt=Ye((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"nav__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),Object(r["j"])("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1)}));function rt(e,t,n,o,c,a){var i=Object(r["G"])("router-link");return Object(r["y"])(),Object(r["i"])("nav",Qe,[Object(r["m"])(i,{to:c.links.orders,class:"nav__link",href:"/"},{default:Object(r["L"])((function(){return[We]})),_:1},8,["to"]),Object(r["m"])(i,{to:c.links.events,class:"nav__link",href:"/"},{default:Object(r["L"])((function(){return[Xe]})),_:1},8,["to"]),Object(r["m"])(i,{to:c.links.products,class:"nav__link",href:"/"},{default:Object(r["L"])((function(){return[et]})),_:1},8,["to"]),Object(r["m"])(i,{to:c.links.team,class:"nav__link",href:"/"},{default:Object(r["L"])((function(){return[tt]})),_:1},8,["to"]),Object(r["m"])(i,{to:c.links.settings,class:"nav__link",href:"/"},{default:Object(r["L"])((function(){return[nt]})),_:1},8,["to"])])}var ot={data:function(){return{links:{orders:{name:"orders"},events:{name:"events"},products:{name:"products"},team:{name:"team"},settings:{name:"settings"}}}}};n("d0e3");const ct=a()(ot,[["render",rt],["__scopeId","data-v-84f16884"]]);var at=ct,it={components:{TheNavigation:at},mounted:function(){this.$store.dispatch("authentication/login")}};n("750f");const st=a()(it,[["render",Je],["__scopeId","data-v-b77165c6"]]);var ut=st,lt=Object(r["l"])("Bestellungen");function dt(e,t,n,o,c,a){var i=Object(r["G"])("base-title"),s=Object(r["G"])("order-controls"),u=Object(r["G"])("orders-page-info"),l=Object(r["G"])("order-item"),d=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])("section",null,[Object(r["m"])(i,null,{default:Object(r["L"])((function(){return[lt]})),_:1}),Object(r["m"])(s,{"event-active":a.eventActive,onEventError:a.openModal,onEventSuccess:a.confirmEventEnd},null,8,["event-active","onEventError","onEventSuccess"]),Object(r["m"])(u,{"event-active":a.eventActive,"orders-length":a.pendingOrders.length},null,8,["event-active","orders-length"]),Object(r["m"])(r["d"],{name:"orders-",tag:"div",class:"orders"},{default:Object(r["L"])((function(){return[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.pendingOrders,(function(e){return Object(r["y"])(),Object(r["g"])(l,{key:e._id,id:e._id,customerName:e.customerName,total:e.total,items:e.items,paymentMethod:e.paymentMethod,comments:e.comments,onCompletionFailed:a.openModal},null,8,["id","customerName","total","items","paymentMethod","comments","onCompletionFailed"])})),128))]})),_:1}),Object(r["m"])(d,{title:c.modal.title,open:c.modal.open,onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(c.modal.message),1)]})),_:1},8,["title","open","onCloseModal"])])}var mt=function(e){return Object(r["B"])("data-v-08d7adbc"),e=e(),Object(r["z"])(),e},bt={class:"order"},ft={class:"order__header"},ht={class:"order__name"},pt={class:"order__total"},vt={class:"order__content"},jt={class:"order__items"},Ot={key:0,class:"order__comments"},gt={class:"order__footer"},_t={key:0,class:"order__warning"},yt=mt((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"order__warning-icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(r["j"])("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})],-1)})),wt=mt((function(){return Object(r["j"])("span",null,"Barzahlung",-1)})),kt=[yt,wt],Mt={class:"order__actions"},It=mt((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"order__button-icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})],-1)})),Et=[It],Lt=mt((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"order__button-icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),Object(r["j"])("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)})),Pt=[Lt];function St(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",bt,[Object(r["j"])("div",ft,[Object(r["j"])("h3",ht,Object(r["I"])(n.customerName),1),Object(r["j"])("div",pt,Object(r["I"])(a.formattedTotal),1)]),Object(r["j"])("div",vt,[Object(r["j"])("div",jt,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(n.items,(function(e){return Object(r["y"])(),Object(r["i"])("div",{key:e.id,class:"order__item"},Object(r["I"])(e.quantity)+" x "+Object(r["I"])(e.name)+Object(r["I"])(e.variation?" (".concat(e.variation,")"):""),1)})),128))]),n.comments?(Object(r["y"])(),Object(r["i"])("p",Ot,Object(r["I"])(n.comments),1)):Object(r["h"])("",!0),Object(r["j"])("div",gt,["cash"===n.paymentMethod?(Object(r["y"])(),Object(r["i"])("div",_t,kt)):Object(r["h"])("",!0),Object(r["j"])("div",Mt,[Object(r["j"])("button",{class:"order__button",onClick:t[0]||(t[0]=function(e){return a.handleOrder("complete")})},Et),Object(r["j"])("button",{class:"order__button",onClick:t[1]||(t[1]=function(e){return a.handleOrder("cancel")})},Pt)])])])])}var Vt={props:{id:{type:String,required:!0},customerName:{type:String,required:!0},total:{type:Number,required:!0},items:{type:Array,required:!0},paymentMethod:{type:String,required:!0},comments:{type:String,default:""}},emits:["completion-failed"],computed:{formattedTotal:function(){var e=(100*this.total).toString(),t=e.length;return"€".concat(e.slice(0,t-2),",").concat(e.slice(t-2))}},methods:{handleOrder:function(e){var t=this,n="".concat("https://knowledgecafe.herokuapp.com/api","/orders/").concat(e,"/").concat(this.id),r={method:"POST",credentials:"include"};fetch(n,r).then((function(e){return e.json()})).then((function(e){e.ok?t.$store.dispatch("orders/completeOrder",t.id):t.$emit("completion-failed")})).catch((function(e){console.log(e)}))}}};n("4044");const Ct=a()(Vt,[["render",St],["__scopeId","data-v-08d7adbc"]]);var zt=Ct,Gt=function(e){return Object(r["B"])("data-v-3271c6eb"),e=e(),Object(r["z"])(),e},qt={class:"status"},xt={class:"status__content"},Tt={class:"status__text"},Ft=Object(r["l"])(" Verkaufsstatus: "),$t=Gt((function(){return Object(r["j"])("div",null,null,-1)})),At=[$t],Bt=Object(r["l"])("Neue Bestellung"),Nt=Gt((function(){return Object(r["j"])("div",{class:"status__separator"},null,-1)}));function Dt(e,t,n,o,c,a){var i=Object(r["G"])("base-button"),s=Object(r["G"])("base-textbox"),u=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])("div",null,[Object(r["j"])("aside",qt,[Object(r["j"])("div",xt,[Object(r["j"])("div",Tt,[Ft,Object(r["j"])("span",null,Object(r["I"])(n.eventActive?"Aktiv":"Inaktiv"),1)]),Object(r["j"])("div",{class:Object(r["t"])(["status__toggle",a.toggleClass]),onClick:t[0]||(t[0]=function(){return a.toggleStatus&&a.toggleStatus.apply(a,arguments)})},At,2)]),n.eventActive?(Object(r["y"])(),Object(r["g"])(i,{key:0,type:"link",link:a.newOrderLink},{default:Object(r["L"])((function(){return[Bt]})),_:1},8,["link"])):Object(r["h"])("",!0),Nt]),Object(r["m"])(u,{title:"Bestätigung",open:c.modalOpen,onCloseModal:a.toggleModal},{default:Object(r["L"])((function(){return[Object(r["j"])("p",null,Object(r["I"])(a.modalText),1),n.eventActive?(Object(r["y"])(),Object(r["g"])(s,{key:0,label:"Name",id:"eventName",error:c.eventNameError,modelValue:c.eventName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.eventName=e}),onRemoveError:a.removeInputError},null,8,["error","modelValue","onRemoveError"])):Object(r["h"])("",!0),Object(r["m"])(i,{loading:c.buttonLoading,onClick:a.confirmToggle},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.modalButtonText),1)]})),_:1},8,["loading","onClick"])]})),_:1},8,["open","onCloseModal"])])}var Rt={props:{eventActive:{type:Boolean,required:!0}},emits:["event-success","event-error"],data:function(){return{modalOpen:!1,buttonLoading:!1,eventName:"",eventNameError:!1}},computed:{toggleClass:function(){return{"status__toggle--active":this.eventActive,"status__toggle--inactive":!this.eventActive}},newOrderLink:function(){return{name:"shop"}},modalText:function(){return this.eventActive?"Unter welchem Namen möchtest du diesen Verkauf speichern?":"Sicher, dass du den Verkauf freigeben möchtest?"},modalButtonText:function(){return this.eventActive?"Speichern":"Freigeben"}},methods:{toggleModal:function(){this.modalOpen=!this.modalOpen,this.eventNameError=!1,this.eventName=""},toggleStatus:function(){this.toggleModal()},removeInputError:function(){this.eventNameError=!1},confirmToggle:function(){var e=this;if(!this.eventActive||this.eventName){var t="".concat("https://knowledgecafe.herokuapp.com/api","/events/").concat(this.eventActive?"close":"open"),n={method:"POST",credentials:"include"};this.eventActive&&(n.headers={"Content-Type":"application/json"},n.body=JSON.stringify({eventName:this.eventName})),this.buttonLoading=!0,fetch(t,n).then((function(e){return e.json()})).then((function(t){e.toggleModal(),e.buttonLoading=!1,t.ok?(e.eventActive&&e.$emit("event-success",t.eventId),e.$store.dispatch("orders/toggleEventStatus",e.eventActive)):e.$emit("event-error",t.message)})).catch((function(e){console.log(e)}))}else this.eventNameError=!0}}};n("de10");const Ut=a()(Rt,[["render",Dt],["__scopeId","data-v-3271c6eb"]]);var Ht=Ut,Zt=function(e){return Object(r["B"])("data-v-7785a12d"),e=e(),Object(r["z"])(),e},Kt={class:"info"},Jt={key:0,class:"info__text"},Yt={key:1,class:"info__text"},Qt=Object(r["l"])(" Es gibt zurzeit keine Bestellungen, nutzt die Zeit doch einfach, um "),Wt=Zt((function(){return Object(r["j"])("span",{class:"info__text--strikethrough"},"euch selbst einen Kaffee zu kochen",-1)})),Xt=Object(r["l"])(" den Kaffeestand auf Vordermann zu bringen ;) "),en=[Qt,Wt,Xt];function tn(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",Kt,[n.eventActive?n.ordersLength?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("p",Yt,en)):(Object(r["y"])(),Object(r["i"])("p",Jt," Der Verkauf ist zurzeit nicht freigegeben. Aktiviere ihn, um Bestellungen entgegennehmen zu können. "))])}var nn={props:{eventActive:{type:Boolean,required:!0},ordersLength:{type:Number,required:!0}}};n("ac18");const rn=a()(nn,[["render",tn],["__scopeId","data-v-7785a12d"]]);var on=rn,cn={components:{OrderItem:zt,OrderControls:Ht,OrdersPageInfo:on},data:function(){return{modal:{open:!1,title:"Fehler",message:""}}},computed:{pendingOrders:function(){return this.$store.getters["orders/pendingOrders"]},eventActive:function(){return"active"===this.$store.getters["orders/eventStatus"]}},methods:{fetchOrders:function(){this.$store.dispatch("orders/fetchOrders")},openModal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Fehler";this.modal.message=e,this.modal.title=t,this.modal.open=!0},closeModal:function(){this.modal.open=!1},confirmEventEnd:function(e){this.openModal("Das Event wurde erfolgreich abgeschlossen und gespeichert.","Glückwunsch!")}},mounted:function(){this.fetchOrders()}};n("9c2a");const an=a()(cn,[["render",dt],["__scopeId","data-v-42871f3e"]]);var sn=an,un=Object(r["l"])("Events"),ln={class:"events"},dn={key:0};function mn(e,t,n,o,c,a){var i=Object(r["G"])("base-title"),s=Object(r["G"])("event-item"),u=Object(r["G"])("event-item-details"),l=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])("section",null,[Object(r["m"])(i,null,{default:Object(r["L"])((function(){return[un]})),_:1}),Object(r["j"])("div",ln,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.events,(function(e){return Object(r["y"])(),Object(r["g"])(s,{key:e._id,id:e._id,title:e.title,date:e.start,onSelectEvent:a.showStats},null,8,["id","title","date","onSelectEvent"])})),128))]),a.events.length?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("p",dn," Es wurden keine Events gefunden. ")),Object(r["m"])(l,{title:"Statistiken",open:c.infoOpen,onCloseModal:a.closeInfo},{default:Object(r["L"])((function(){return[Object(r["m"])(u,{title:c.activeEvent.title,start:c.activeEvent.start,end:c.activeEvent.end,stats:c.activeEvent.stats},null,8,["title","start","end","stats"])]})),_:1},8,["open","onCloseModal"])])}var bn={class:"event__title"},fn={class:"event__date"};function hn(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",{class:"event",onClick:t[0]||(t[0]=function(){return a.selectEvent&&a.selectEvent.apply(a,arguments)})},[Object(r["j"])("h2",bn,Object(r["I"])(n.title),1),Object(r["j"])("p",fn,Object(r["I"])(a.formattedDate),1)])}var pn={props:{id:{type:String,required:!0},title:{type:String,required:!0},date:{type:String,required:!0}},emits:["select-event"],computed:{formattedDate:function(){var e=new Date(this.date);return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())}},methods:{selectEvent:function(){this.$emit("select-event",this.id)}}};n("271c");const vn=a()(pn,[["render",hn],["__scopeId","data-v-44f92b0f"]]);var jn=vn,On={class:"details"};function gn(e,t,n,o,c,a){var i=Object(r["G"])("base-info"),s=Object(r["G"])("event-item-chart");return Object(r["y"])(),Object(r["i"])("div",On,[Object(r["m"])(i,{label:"Name"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.title),1)]})),_:1}),Object(r["m"])(i,{label:"Datum"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.eventDate),1)]})),_:1}),Object(r["m"])(i,{label:"Uhrzeit"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.eventTime),1)]})),_:1}),Object(r["m"])(i,{label:"Einnahmen"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.revenue),1)]})),_:1}),Object(r["m"])(i,{label:"Verkaufte Kaffees"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.stats.unitsSold),1)]})),_:1}),Object(r["m"])(i,{label:"Produktverteilung (%)"},{default:Object(r["L"])((function(){return[Object(r["m"])(s,{units:n.stats.unitsSold,products:n.stats.products},null,8,["units","products"])]})),_:1})])}var _n={class:"chart"},yn={class:"chart__labels"},wn={class:"chart__frame"},kn={class:"chart__bars"},Mn={class:"chart__bar-label"},In=Object(r["k"])('<div class="chart__guide chart__guide--0" data-v-3c42d618></div><div class="chart__guide chart__guide--10" data-v-3c42d618></div><div class="chart__guide chart__guide--20" data-v-3c42d618></div><div class="chart__guide chart__guide--30" data-v-3c42d618></div><div class="chart__guide chart__guide--40" data-v-3c42d618></div><div class="chart__guide chart__guide--50" data-v-3c42d618></div><div class="chart__guide chart__guide--60" data-v-3c42d618></div><div class="chart__guide chart__guide--70" data-v-3c42d618></div><div class="chart__guide chart__guide--80" data-v-3c42d618></div><div class="chart__guide chart__guide--90" data-v-3c42d618></div><div class="chart__guide chart__guide--100" data-v-3c42d618></div>',11);function En(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",_n,[Object(r["j"])("div",yn,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.labels,(function(e){return Object(r["y"])(),Object(r["i"])("div",{key:e,class:"chart__label"},Object(r["I"])(e),1)})),128))]),Object(r["j"])("div",wn,[Object(r["j"])("div",kn,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.labels,(function(e){return Object(r["y"])(),Object(r["i"])("div",{key:e,class:"chart__bar-container"},[Object(r["j"])("div",{class:"chart__bar",style:Object(r["u"])(a.widths[e])},null,4),Object(r["j"])("div",Mn,Object(r["I"])(n.products[e]),1)])})),128))]),In])])}var Ln=n("b85c"),Pn=(n("4e82"),n("b64b"),{props:{units:{type:Number,required:!0},products:{type:Object,required:!0}},computed:{labels:function(){var e=this;return Object.keys(this.products).sort((function(t,n){return e.products[n]>e.products[t]?1:-1}))},widths:function(){var e,t={},n=Object(Ln["a"])(this.labels);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]={width:"".concat(100*this.products[r]/this.units,"%")}}}catch(o){n.e(o)}finally{n.f()}return t}}});n("bfa8");const Sn=a()(Pn,[["render",En],["__scopeId","data-v-3c42d618"]]);var Vn=Sn,Cn={components:{EventItemChart:Vn},props:{title:{title:String,required:!0},start:{type:String},end:{type:String,required:!0},stats:{type:Object,required:!0}},computed:{eventDate:function(){var e=new Date(this.start);return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())},eventTime:function(){var e=new Date(this.start),t=new Date(this.end),n={startHours:e.getHours(),startMinutes:e.getMinutes(),endHours:t.getHours(),endMinutes:t.getMinutes()};return["startHours","startMinutes","endHours","endMinutes"].forEach((function(e){n[e]<10&&(n[e]="0".concat(n[e]))})),"".concat(n.startHours,":").concat(n.startMinutes," - ").concat(n.endHours,":").concat(n.endMinutes)},revenue:function(){if(!this.stats.revenue)return"€0,00";var e=(100*this.stats.revenue).toString(),t=e.length;return"€".concat(e.slice(0,t-2),",").concat(e.slice(t-2))}}};n("7b9d");const zn=a()(Cn,[["render",gn],["__scopeId","data-v-161f8804"]]);var Gn=zn,qn={components:{EventItem:jn,EventItemDetails:Gn},data:function(){return{infoOpen:!1,activeEvent:{}}},computed:{events:function(){return this.$store.getters["events/eventList"]}},methods:{showStats:function(e){var t=this.events.find((function(t){return t._id===e}));this.activeEvent=t,this.infoOpen=!0},closeInfo:function(){this.infoOpen=!1}},mounted:function(){this.events.length||this.$store.dispatch("events/fetchEvents")}};n("aba9");const xn=a()(qn,[["render",mn],["__scopeId","data-v-799a21bb"]]);var Tn=xn,Fn=(n("a4d3"),n("e01a"),Object(r["l"])("Produkte")),$n={class:"products__commands"},An=Object(r["l"])("Neues Produkt"),Bn={key:0,class:"products__message"},Nn={key:3};function Dn(e,t,n,o,c,a){var i=Object(r["G"])("base-title"),s=Object(r["G"])("base-button"),u=Object(r["G"])("products-item"),l=Object(r["G"])("products-item-details"),d=Object(r["G"])("products-item-form"),m=Object(r["G"])("products-item-delete"),b=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])("section",null,[Object(r["m"])(i,null,{default:Object(r["L"])((function(){return[Fn]})),_:1}),Object(r["j"])("div",$n,[Object(r["m"])(s,{onClick:a.newProduct},{default:Object(r["L"])((function(){return[An]})),_:1},8,["onClick"])]),Object(r["m"])(r["d"],{tag:"div",name:"products-",class:"products"},{default:Object(r["L"])((function(){return[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.products,(function(e){return Object(r["y"])(),Object(r["g"])(u,{key:e._id,id:e._id,name:e.name,onSelectItem:a.selectItem},null,8,["id","name","onSelectItem"])})),128))]})),_:1}),a.products.length?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("p",Bn," Es wurden keine Produkte gefunden. ")),Object(r["m"])(b,{open:!!c.viewMode,title:a.modalTitle,onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return["view"===c.viewMode?(Object(r["y"])(),Object(r["g"])(l,{key:0,name:c.activeProduct.name,description:c.activeProduct.description,price:c.activeProduct.price,tag:c.activeProduct.tag,variations:c.activeProduct.variations,stats:c.activeProduct.stats},null,8,["name","description","price","tag","variations","stats"])):"edit"===c.viewMode||"new"===c.viewMode?(Object(r["y"])(),Object(r["g"])(d,{key:1,mode:c.viewMode,id:c.activeProduct.id,name:c.activeProduct.name,description:c.activeProduct.description,price:c.activeProduct.price,tag:c.activeProduct.tag,variations:c.activeProduct.variations,onFormSuccess:a.confirmForm,onFormFailed:a.emitError},null,8,["mode","id","name","description","price","tag","variations","onFormSuccess","onFormFailed"])):"delete"===c.viewMode?(Object(r["y"])(),Object(r["g"])(m,{key:2,id:c.activeProduct.id,name:c.activeProduct.name,onConfirmDeletion:a.deleteProduct,onDeletionFailed:a.emitError},null,8,["id","name","onConfirmDeletion","onDeletionFailed"])):"error"===c.viewMode?(Object(r["y"])(),Object(r["i"])("p",Nn,Object(r["I"])(c.errorMessage),1)):Object(r["h"])("",!0)]})),_:1},8,["open","title","onCloseModal"])])}var Rn=function(e){return Object(r["B"])("data-v-0ab77e1c"),e=e(),Object(r["z"])(),e},Un={class:"product"},Hn=Rn((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"product__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1)})),Zn=[Hn],Kn=Rn((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"product__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(r["j"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)})),Jn=[Kn];function Yn(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",Un,[Object(r["j"])("div",{class:"product__name",onClick:t[0]||(t[0]=function(e){return a.selectItem("view")})},Object(r["I"])(n.name),1),Object(r["j"])("button",{class:"product__button product__button--edit",onClick:t[1]||(t[1]=function(e){return a.selectItem("edit")})},Zn),Object(r["j"])("button",{class:"product__button product__button--delete",onClick:t[2]||(t[2]=function(e){return a.selectItem("delete")})},Jn)])}var Qn={props:{id:{type:String,required:!0},name:{type:String,required:!0}},emits:["select-item"],methods:{selectItem:function(e){this.$emit("select-item",this.id,e)}}};n("ab03");const Wn=a()(Qn,[["render",Yn],["__scopeId","data-v-0ab77e1c"]]);var Xn=Wn;function er(e,t,n,o,c,a){var i=Object(r["G"])("base-info"),s=Object(r["G"])("products-item-chart");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(i,{label:"Name"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.name),1)]})),_:1}),Object(r["m"])(i,{label:"Kürzel"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.upperCaseTag),1)]})),_:1}),Object(r["m"])(i,{label:"Beschreibung"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.description),1)]})),_:1}),Object(r["m"])(i,{label:"Verkaufspreis"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.formattedPrice),1)]})),_:1}),Object(r["m"])(i,{label:"Verkaufte Einheiten"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.stats.unitsSold),1)]})),_:1}),Object(r["m"])(i,{label:"Gesamteinnahmen"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.formattedRevenue),1)]})),_:1}),n.variations.length?(Object(r["y"])(),Object(r["g"])(s,{key:0,variations:n.variations,stats:n.stats.variations},null,8,["variations","stats"])):Object(r["h"])("",!0)],64)}var tr={key:0},nr={class:"chart__labels"},rr={class:"chart__label"},or={class:"chart__text"},cr={key:1};function ar(e,t,n,o,c,a){var i=Object(r["G"])("base-info");return Object(r["y"])(),Object(r["g"])(i,{label:"Sortenverteilung"},{default:Object(r["L"])((function(){return[a.dataAvailable?(Object(r["y"])(),Object(r["i"])("div",tr,[Object(r["j"])("div",nr,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.variations,(function(e,t){return Object(r["y"])(),Object(r["i"])("div",rr,[Object(r["j"])("div",{class:"chart__color",style:Object(r["u"])({"background-color":c.colors[t]})},null,4),Object(r["j"])("div",or,Object(r["I"])(e)+" ("+Object(r["I"])(a.formattedPercentages[e])+") ",1)])})),256))]),Object(r["j"])("div",{class:"chart",style:Object(r["u"])(a.chartGradient)},null,4)])):(Object(r["y"])(),Object(r["i"])("p",cr,"N/A"))]})),_:1})}n("a15b");var ir={props:{stats:{type:Object,required:!0}},data:function(){return{colors:["#20a4f3","#59f8e8","#c1cfda","#941c2f"]}},computed:{variations:function(){return Object.keys(this.stats)},dataAvailable:function(){var e=this;return this.variations.some((function(t){return e.stats[t]>0}))},totalUnits:function(){var e=this;return this.variations.reduce((function(t,n){return t+e.stats[n]}),0)},chartGradient:function(){var e=this,t=this.variations.map((function(t){var n=e.stats[t]/e.totalUnits;return Math.round(360*n)})),n=t.map((function(n,r){var o=e.colors[r];return r?r===t.length-1?"".concat(o," ").concat(t[r-1],"deg 360deg"):"".concat(o," ").concat(t[r-1],"deg ").concat(n,"deg"):"".concat(o," 0deg ").concat(n,"deg")}));return{"background-image":"conic-gradient(".concat(n.join(", "))}},formattedPercentages:function(){var e,t={},n=Object(Ln["a"])(this.variations);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=100*this.stats[r]/this.totalUnits,c=Math.round(10*o).toString(),a=c.length;t[r]=o?"".concat(c.slice(0,a-1),",").concat(c.slice(a-1),"%"):"0,0%"}}catch(i){n.e(i)}finally{n.f()}return t}}};n("142f");const sr=a()(ir,[["render",ar],["__scopeId","data-v-30f4fe5e"]]);var ur=sr,lr={components:{ProductsItemChart:ur},props:{name:{type:String,required:!0},description:{type:String,required:!0},price:{type:Number,required:!0},tag:{type:String,required:!0},variations:{type:Array,required:!0},stats:{type:Object,required:!0}},emits:["close-modal"],computed:{upperCaseTag:function(){return this.tag.toUpperCase()},formattedPrice:function(){var e=(100*this.price).toString(),t=e.length;return"€".concat(e.slice(0,t-2),",").concat(e.slice(t-2))},formattedRevenue:function(){if(!this.stats.revenue)return"€0,00";var e=(100*this.stats.revenue).toString(),t=e.length;return"€".concat(e.length>2?e.slice(0,t-2):0,",").concat(e.slice(t-2))}},methods:{closeModal:function(){this.$emit("close-modal")}}};const dr=a()(lr,[["render",er]]);var mr=dr,br=Object(r["l"])("Bestätigen");function fr(e,t,n,o,c,a){var i=Object(r["G"])("base-textbox"),s=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(i,{label:"Name",id:"name",error:c.errors.name,modelValue:c.formName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.formName=e}),onRemoveError:t[1]||(t[1]=function(e){return a.removeError("name")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Kürzel",id:"tag",error:c.errors.tag,"error-message":"Das Kürzel muss zwischen 1 und 4 Zeichen lang sein.",modelValue:c.formTag,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.formTag=e}),onRemoveError:t[3]||(t[3]=function(e){return a.removeError("tag")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Beschreibung",id:"description",type:"textarea",modelValue:c.formDescription,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.formDescription=e})},null,8,["modelValue"]),Object(r["m"])(i,{label:"Verkaufspreis (€)",id:"price",error:c.errors.price,modelValue:c.formPrice,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.formPrice=e}),onRemoveError:t[6]||(t[6]=function(e){return a.removeError("price")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Sorten (kommagetrennt)",id:"variations",error:c.errors.variations,"error-message":"Bitte gebe mindestens zwei Sorten ein.",modelValue:c.formVariations,"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.formVariations=e}),onRemoveError:t[8]||(t[8]=function(e){return a.removeError("variations")})},null,8,["error","modelValue"]),Object(r["m"])(s,{loading:c.buttonLoading,onClick:a.submitForm},{default:Object(r["L"])((function(){return[br]})),_:1},8,["loading","onClick"])],64)}n("caad"),n("5b81"),n("498a"),n("ac1f"),n("1276");var hr={props:{mode:{type:String,default:"edit",validator:function(e){return["edit","new"].includes(e)}},id:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},tag:{type:String,required:!0},price:{type:Number,required:!0},variations:{type:Array,required:!0}},emits:["form-success","form-failed"],data:function(){return{formName:"",formDescription:"",formTag:"",formPrice:"",formVariations:"",errors:{name:!1,tag:!1,price:!1,variations:!1},buttonLoading:!1}},methods:{removeError:function(e){this.errors[e]=!1},validateForm:function(){this.formName||(this.errors.name=!0),(!this.formTag||this.formTag.length>4)&&(this.errors.tag=!0);var e=Number(this.formPrice.replaceAll(",","."));e||(this.errors.price=!0);var t=this.formVariations.trim().length?this.formVariations.split(",").map((function(e){return e.trim()})):[];1===t.length&&(this.errors.variations=!0);var n=this.errors,r=n.name,o=n.tag,c=n.description,a=n.price,i=n.variations;return!(r||o||c||a||i)&&{name:this.formName,tag:this.formTag,description:this.formDescription,price:e,variations:t}},submitForm:function(){var e=this,t=this.validateForm();if(t){var n="edit"===this.mode?"".concat("https://knowledgecafe.herokuapp.com/api","/products/").concat(this.id):"".concat("https://knowledgecafe.herokuapp.com/api","/products"),r={method:"edit"===this.mode?"PUT":"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};this.buttonLoading=!0,fetch(n,r).then((function(e){return e.json()})).then((function(n){n.ok?e.$emit("form-success",e.id||n._id,t):e.$emit("form-failed",n.message)})).catch((function(e){console.log(e)})).finally((function(){e.buttonLoading=!1}))}}},mounted:function(){this.formName=this.name,this.formDescription=this.description,this.formTag=this.tag,this.formPrice=this.price.toString(),this.formVariations=this.variations.join(", ")}};const pr=a()(hr,[["render",fr]]);var vr=pr,jr={class:"message"},Or=Object(r["l"])("Bestätigen");function gr(e,t,n,o,c,a){var i=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["j"])("p",jr,' Sicher, dass du das Produkt "'+Object(r["I"])(n.name)+'" aus dem System löschen möchtest? Alle daran gebundenen Daten werden ebenfalls gelöscht, die Eventstatistiken bleiben erhalten. ',1),Object(r["m"])(i,{loading:c.buttonLoading,onClick:a.deleteProduct},{default:Object(r["L"])((function(){return[Or]})),_:1},8,["loading","onClick"])],64)}var _r={props:{id:{type:String,required:!0},name:{type:String,required:!0}},emits:["confirm-deletion","deletion-failed"],data:function(){return{buttonLoading:!1}},methods:{deleteProduct:function(){var e=this,t="".concat("https://knowledgecafe.herokuapp.com/api","/products/").concat(this.id),n={credentials:"include",method:"DELETE"};this.buttonLoading=!0,fetch(t,n).then((function(e){return e.json()})).then((function(t){t.ok?e.$emit("confirm-deletion",e.id):e.$emit("deletion-failed",t.message)})).catch((function(e){console.log(e)})).finally((function(){e.buttonLoading=!1}))}}};n("7033");const yr=a()(_r,[["render",gr],["__scopeId","data-v-316db90a"]]);var wr=yr,kr={components:{ProductsItem:Xn,ProductsItemDetails:mr,ProductsItemForm:vr,ProductsItemDelete:wr},data:function(){return{viewMode:"",activeProduct:{id:"",name:"",description:"",price:0,tag:"",variations:[],stats:{}},errorMessage:""}},computed:{products:function(){return this.$store.getters["products/productList"]},modalTitle:function(){switch(this.viewMode){case"view":return"Produktinfo";case"edit":return"Bearbeiten";case"delete":return"Produkt löschen?";case"error":return"Fehler";case"new":return"Neues Produkt"}}},methods:{newProduct:function(){this.viewMode="new"},selectItem:function(e,t){var n=this.products.find((function(t){return t._id===e}));this.activeProduct.id=n._id,this.activeProduct.name=n.name,this.activeProduct.description=n.description,this.activeProduct.price=n.price,this.activeProduct.tag=n.tag,this.activeProduct.variations=n.variations,this.activeProduct.stats=n.stats,this.viewMode=t},closeModal:function(){this.viewMode="",this.activeProduct={id:"",name:"",description:"",price:0,tag:"",variations:[],stats:{}}},confirmForm:function(e,t){var n=this,r="products/".concat(this.viewMode,"Product"),o={productId:e,productData:t};this.closeModal(),this.$store.dispatch(r,o),setTimeout((function(){n.selectItem(e,"view")}),500)},createProduct:function(e,t){var n=this;this.closeModal(),this.$store.dispatch("products/createProduct",{productId:e,productData:t}),setTimeout((function(){n.selectItem(e,"view")}),500)},deleteProduct:function(e){this.closeModal(),this.$store.dispatch("products/deleteProduct",e)},emitError:function(e){var t=this;this.viewMode="",setTimeout((function(){t.errorMessage=e||"Ein Fehler ist aufgetreten, bitte versuche es später erneut.",t.viewMode="error"}),500)}},mounted:function(){this.products.length||this.$store.dispatch("products/fetchProducts")}};n("1e29");const Mr=a()(kr,[["render",Dn],["__scopeId","data-v-06cb03b8"]]);var Ir=Mr,Er={class:"team"},Lr=Object(r["l"])("Team"),Pr={class:"team__nav"},Sr=Object(r["l"])("Neues Mitglied"),Vr={key:0},Cr={key:4,class:"team__error"};function zr(e,t,n,o,c,a){var i=Object(r["G"])("base-title"),s=Object(r["G"])("base-button"),u=Object(r["G"])("team-member"),l=Object(r["G"])("team-member-details"),d=Object(r["G"])("team-member-edit"),m=Object(r["G"])("team-member-delete"),b=Object(r["G"])("team-member-new"),f=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])("section",Er,[Object(r["m"])(i,null,{default:Object(r["L"])((function(){return[Lr]})),_:1}),Object(r["j"])("div",Pr,[Object(r["m"])(s,{onClick:a.openNewMemberForm},{default:Object(r["L"])((function(){return[Sr]})),_:1},8,["onClick"])]),Object(r["m"])(r["d"],{tag:"div",name:"team__member-",class:"team__list"},{default:Object(r["L"])((function(){return[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(a.teamMembers,(function(e){return Object(r["y"])(),Object(r["g"])(u,{key:e._id,id:e._id,name:e.name,onSelectMember:a.selectTeamMember},null,8,["id","name","onSelectMember"])})),128))]})),_:1}),a.teamMembers.length?Object(r["h"])("",!0):(Object(r["y"])(),Object(r["i"])("p",Vr,"Es wurden keine Teammitglieder gefunden")),Object(r["m"])(f,{open:!!c.viewMode,title:a.modalTitle,onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return["view"===c.viewMode?(Object(r["y"])(),Object(r["g"])(l,{key:0,name:c.active.name,email:c.active.email,role:c.active.role,timestamp:c.active.timestamp},null,8,["name","email","role","timestamp"])):"edit"===c.viewMode?(Object(r["y"])(),Object(r["g"])(d,{key:1,id:c.active.id,role:c.active.role,onFormSuccess:a.updateRole,onFormFailed:a.emitError},null,8,["id","role","onFormSuccess","onFormFailed"])):"delete"===c.viewMode?(Object(r["y"])(),Object(r["g"])(m,{key:2,id:c.active.id,name:c.active.name,onFormSuccess:a.closeModal,onFormFailed:a.emitError},null,8,["id","name","onFormSuccess","onFormFailed"])):"new"===c.viewMode?(Object(r["y"])(),Object(r["g"])(b,{key:3,onFormSuccess:a.closeModal,onFormFailed:a.emitError},null,8,["onFormSuccess","onFormFailed"])):"error"===c.viewMode?(Object(r["y"])(),Object(r["i"])("p",Cr,Object(r["I"])(c.modalError),1)):Object(r["h"])("",!0)]})),_:1},8,["open","title","onCloseModal"])])}var Gr=function(e){return Object(r["B"])("data-v-05c9650a"),e=e(),Object(r["z"])(),e},qr={class:"member"},xr=Gr((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"member__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1)})),Tr=[xr],Fr=Gr((function(){return Object(r["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"member__icon",viewBox:"0 0 16 16"},[Object(r["j"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(r["j"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)})),$r=[Fr];function Ar(e,t,n,o,c,a){return Object(r["y"])(),Object(r["i"])("div",qr,[Object(r["j"])("div",{class:"member__name",onClick:t[0]||(t[0]=function(e){return a.select("view")})},Object(r["I"])(n.name),1),Object(r["j"])("button",{class:"member__button member__button--edit",onClick:t[1]||(t[1]=function(e){return a.select("edit")})},Tr),Object(r["j"])("button",{class:"member__button member__button--delete",onClick:t[2]||(t[2]=function(e){return a.select("delete")})},$r)])}var Br={props:{id:{type:String,required:!0},name:{type:String,required:!0}},methods:{select:function(e){this.$emit("select-member",e,this.id)}}};n("d4b4");const Nr=a()(Br,[["render",Ar],["__scopeId","data-v-05c9650a"]]);var Dr=Nr;function Rr(e,t,n,o,c,a){var i=Object(r["G"])("base-info");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(i,{label:"Name"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.name),1)]})),_:1}),Object(r["m"])(i,{label:"Emailadresse"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(n.email),1)]})),_:1}),Object(r["m"])(i,{label:"Status"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.formattedRole),1)]})),_:1}),Object(r["m"])(i,{label:"Mitglied seit"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.formattedDate),1)]})),_:1})],64)}var Ur={props:{name:{type:String,required:!0},email:{type:String,required:!0},role:{type:String,required:!0},timestamp:{type:String,required:!0}},computed:{formattedRole:function(){return"admin"===this.role?"Administrator":"Mitglied"},formattedDate:function(){var e=new Date(this.timestamp);return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())}}};const Hr=a()(Ur,[["render",Rr]]);var Zr=Hr,Kr=Object(r["l"])("Bestätigen");function Jr(e,t,n,o,c,a){var i=Object(r["G"])("base-select"),s=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(i,{name:"Status",options:c.options,modelValue:c.formRole,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.formRole=e})},null,8,["options","modelValue"]),Object(r["m"])(s,{loading:c.buttonLoading,onClick:a.setStatus},{default:Object(r["L"])((function(){return[Kr]})),_:1},8,["loading","onClick"])],64)}var Yr={props:{id:{type:String,required:!0},role:{type:String,required:!0}},emits:["form-success","form-failed"],data:function(){return{buttonLoading:!1,formRole:"",options:[{id:"admin",label:"Administrator"},{id:"user",label:"Mitglied"}]}},methods:{setStatus:function(){var e=this;if(this.role===this.formRole)this.$emit("form-success",this.role);else{var t="".concat("https://knowledgecafe.herokuapp.com/api","/team/set-role/").concat(this.id),n={credentials:"include",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:this.formRole})};this.buttonLoading=!0,fetch(t,n).then((function(e){return e.json()})).then((function(t){if(t.ok){var n={id:e.id,role:e.formRole};e.$store.dispatch("team/updateRole",n),e.$emit("form-success",e.formRole)}else e.$emit("form-failed",t.message)})).catch((function(t){console.log(t),e.$emit("form-failed")})).finally((function(){e.buttonLoading=!1}))}}},mounted:function(){this.formRole=this.role}};const Qr=a()(Yr,[["render",Jr]]);var Wr=Qr,Xr={class:"message"},eo=Object(r["l"])("Bestätigen");function to(e,t,n,o,c,a){var i=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["j"])("p",Xr," Sicher, dass du "+Object(r["I"])(n.name)+" von der Mitgliederliste entfernen möchstest? ",1),Object(r["m"])(i,{loading:c.buttonLoading,onClick:a.deleteMember},{default:Object(r["L"])((function(){return[eo]})),_:1},8,["loading","onClick"])],64)}var no={props:{id:{type:String,required:!0},name:{type:String,required:!0}},emits:["form-success","form-failed"],data:function(){return{buttonLoading:!1}},methods:{deleteMember:function(){var e=this,t="".concat("https://knowledgecafe.herokuapp.com/api","/team/").concat(this.id),n={credentials:"include",method:"DELETE"};fetch(t,n).then((function(e){return e.json()})).then((function(t){t.ok?(e.$store.dispatch("team/removeMember",e.id),e.$emit("form-success")):e.$emit("form-failed",t.message)})).catch((function(t){consle.log(t),e.$emit("form-failed")}))}}};n("590d");const ro=a()(no,[["render",to],["__scopeId","data-v-2712da29"]]);var oo=ro,co=Object(r["l"])("Bestätigen");function ao(e,t,n,o,c,a){var i=Object(r["G"])("base-textbox"),s=Object(r["G"])("base-select"),u=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])(r["a"],null,[Object(r["m"])(i,{label:"Name",id:"name",error:c.errors.name,modelValue:c.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.name=e}),onRemoveError:t[1]||(t[1]=function(e){return a.removeError("name")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Emailadresse",id:"email",error:c.errors.email,modelValue:c.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e}),onRemoveError:t[3]||(t[3]=function(e){return a.removeError("email")})},null,8,["error","modelValue"]),Object(r["m"])(s,{name:"Status",options:c.roleOptions,error:c.errors.role,modelValue:c.role,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.role=e}),onRemoveError:t[5]||(t[5]=function(e){return a.removeError("role")})},null,8,["options","error","modelValue"]),Object(r["m"])(u,{loading:c.buttonLoading,onClick:a.submitForm},{default:Object(r["L"])((function(){return[co]})),_:1},8,["loading","onClick"])],64)}var io={emits:["form-success","form-failed"],data:function(){return{buttonLoading:!1,name:"",email:"",role:"user",roleOptions:[{label:"Mitglied",id:"user"},{label:"Administrator",id:"admin"}],errors:{name:!1,email:!1,role:!1}}},methods:{removeError:function(e){this.errors[e]=!1},validateForm:function(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;this.name||(this.errors.name=!0),this.email&&e.test(this.email)||(this.errors.email=!0),this.role||(this.errors.role=!0)},submitForm:function(){var e=this;if(this.validateForm(),!(this.errors.name||this.errors.email||this.errors.role)){var t="".concat("https://knowledgecafe.herokuapp.com/api","/team"),n={credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,email:this.email,role:this.role})};this.buttonLoading=!0,fetch(t,n).then((function(e){return e.json()})).then((function(t){t.ok?e.$emit("form-success",e.email):e.$emit("form-failed",t.message)})).catch((function(t){e.$emit("form-failed",t.message),console.log(t)})).finally((function(){e.buttonLoading=!1}))}}}};const so=a()(io,[["render",ao]]);var uo=so,lo={components:{TeamMember:Dr,TeamMemberDetails:Zr,TeamMemberEdit:Wr,TeamMemberDelete:oo,TeamMemberNew:uo},data:function(){return{viewMode:"",modalError:"",active:{id:"",name:"",email:"",username:"",role:"",timestamp:""}}},computed:{teamMembers:function(){return this.$store.getters["team/teamMembers"]},modalTitle:function(){switch(this.viewMode){case"view":return"Info";case"edit":return"Status";case"delete":return"Mitglied entfernen";case"new":return"Neues Mitglied";case"error":return"Fehler"}}},methods:{selectTeamMember:function(e,t){var n=this.teamMembers.find((function(e){return e._id===t}));this.active.id=n._id,this.active.name=n.name,this.active.email=n.email,this.active.username=n.username,this.active.role=n.role,this.active.timestamp=n.timestamp,this.viewMode=e},openNewMemberForm:function(){this.viewMode="new"},closeModal:function(){this.viewMode=""},updateRole:function(e){var t=this;this.active.role=e,this.closeModal(),setTimeout((function(){t.viewMode="view"}),500)},emitError:function(e){var t=this;this.viewMode="",this.modalError=e||"Ein Fehler ist aufgetreten.",setTimeout((function(){t.viewMode="error"}),500)}},mounted:function(){this.teamMembers.length||this.$store.dispatch("team/fetchTeamMembers")}};n("01e8");const mo=a()(lo,[["render",zr],["__scopeId","data-v-770fd12e"]]);var bo=mo,fo={class:"settings"},ho=Object(r["l"])("Einstellungen"),po={class:"settings__info"},vo={class:"settings__buttons"},jo=Object(r["l"])("Bearbeiten"),Oo=Object(r["l"])("Passwort ändern"),go=Object(r["l"])("Abmelden"),_o={key:3,class:"settings__error"};function yo(e,t,n,o,c,a){var i=Object(r["G"])("base-title"),s=Object(r["G"])("base-info"),u=Object(r["G"])("base-button"),l=Object(r["G"])("settings-form"),d=Object(r["G"])("settings-password-edit"),m=Object(r["G"])("settings-logout"),b=Object(r["G"])("base-modal");return Object(r["y"])(),Object(r["i"])("section",fo,[Object(r["m"])(i,null,{default:Object(r["L"])((function(){return[ho]})),_:1}),Object(r["j"])("div",po,[Object(r["m"])(s,{label:"Name"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.userData.name),1)]})),_:1}),Object(r["m"])(s,{label:"Emailaddresse"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.userData.email),1)]})),_:1}),Object(r["m"])(s,{label:"Benutzername"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.userData.username),1)]})),_:1}),Object(r["m"])(s,{label:"Rolle"},{default:Object(r["L"])((function(){return[Object(r["l"])(Object(r["I"])(a.userData.isAdmin?"Administrator":"Mitglied"),1)]})),_:1})]),Object(r["j"])("div",vo,[Object(r["m"])(u,{onClick:t[0]||(t[0]=function(e){return a.setView("edit")})},{default:Object(r["L"])((function(){return[jo]})),_:1}),Object(r["m"])(u,{onClick:t[1]||(t[1]=function(e){return a.setView("password")})},{default:Object(r["L"])((function(){return[Oo]})),_:1}),Object(r["m"])(u,{onClick:t[2]||(t[2]=function(e){return a.setView("logout")})},{default:Object(r["L"])((function(){return[go]})),_:1})]),Object(r["m"])(b,{open:!!c.viewMode,title:a.modalTitle,onCloseModal:a.closeModal},{default:Object(r["L"])((function(){return["edit"===c.viewMode?(Object(r["y"])(),Object(r["g"])(l,{key:0,name:a.userData.name,email:a.userData.email,username:a.userData.username,onFormSuccess:a.closeModal,onFormFailed:a.emitError},null,8,["name","email","username","onFormSuccess","onFormFailed"])):"password"===c.viewMode?(Object(r["y"])(),Object(r["g"])(d,{key:1,onFormFailed:a.emitError},null,8,["onFormFailed"])):"logout"===c.viewMode?(Object(r["y"])(),Object(r["g"])(m,{key:2})):"error"===c.viewMode?(Object(r["y"])(),Object(r["i"])("p",_o,Object(r["I"])(c.modalError),1)):Object(r["h"])("",!0)]})),_:1},8,["open","title","onCloseModal"])])}var wo=Object(r["l"])("Bestätigen");function ko(e,t,n,o,c,a){var i=Object(r["G"])("base-textbox"),s=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])("form",{class:"settings__form",onSubmit:t[6]||(t[6]=Object(r["M"])((function(){return a.submitEdits&&a.submitEdits.apply(a,arguments)}),["prevent"]))},[Object(r["m"])(i,{label:"Name",id:"name",error:c.errors.name,"error-message":"Bitte gebe deinen Namen ein.",modelValue:c.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.form.name=e}),onRemoveError:t[1]||(t[1]=function(e){return a.removeError("name")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Emailadresse",id:"email",error:c.errors.email,"error-message":"Ungültige Emailadresse",modelValue:c.form.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.form.email=e}),onRemoveError:t[3]||(t[3]=function(e){return a.removeError("email")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Benutzername",id:"username",error:c.errors.username,"error-message":"Ungültiger Benutzername",modelValue:c.form.username,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.form.username=e}),onRemoveError:t[5]||(t[5]=function(e){return a.removeError("username")})},null,8,["error","modelValue"]),Object(r["m"])(s,{loading:c.buttonLoading},{default:Object(r["L"])((function(){return[wo]})),_:1},8,["loading"])],32)}var Mo={props:{name:{type:String,required:!0},email:{type:String,required:!0},username:{type:String,required:!0}},emits:["form-success","form-failed"],data:function(){return{buttonLoading:!1,form:{name:"",email:"",username:""},errors:{name:!1,email:!1,username:!1}}},methods:{removeError:function(e){this.errors[e]=!1},validateEdits:function(){var e=this.form,t=e.name,n=e.email,r=e.username,o=(e.isAdmin,[]);t||(this.errors.name=!0,o.push("name"));var c=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;n&&c.test(n)||(this.errors.email=!0,o.push("email"));var a=/^[a-zA-Z0-9._-]+$/;return r&&a.test(r)||(this.errors.username=!0,o.push("username")),!o.length},submitEdits:function(){var e=this,t=this.validateEdits();if(t){var n={name:this.form.name,email:this.form.email.toLowerCase(),username:this.form.username.toLowerCase()},r="".concat("https://knowledgecafe.herokuapp.com/api","/account/user"),o={credentials:"include",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};this.buttonLoading=!0,fetch(r,o).then((function(e){return e.json()})).then((function(t){t.ok?(e.$emit("form-success"),e.$store.dispatch("authentication/updateUserData",n)):e.$emit("form-failed",t.message)})).catch((function(e){console.log(e)})).finally((function(){e.buttonLoading=!1}))}}},mounted:function(){this.form.name=this.name,this.form.email=this.email,this.form.username=this.username}};const Io=a()(Mo,[["render",ko]]);var Eo=Io,Lo=Object(r["l"])("Ändern");function Po(e,t,n,o,c,a){var i=Object(r["G"])("base-textbox"),s=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])("form",{class:"form",onSubmit:t[6]||(t[6]=Object(r["M"])((function(){return a.submitForm&&a.submitForm.apply(a,arguments)}),["prevent"]))},[Object(r["m"])(i,{label:"Altes Passwort",id:"oldPassword",type:"password",error:c.errors.oldPassword,modelValue:c.oldPassword,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.oldPassword=e}),onRemoveError:t[1]||(t[1]=function(e){return a.removeError("oldPassword")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Neues Passwort",id:"newPassword",type:"password",error:c.errors.newPassword,"error-message":"Mindestens 1 Großbuchstabe, 1 Kleinbuchstabe, 1 Zahl, und 1 Sonderzeichen erforderlich.",modelValue:c.newPassword,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newPassword=e}),onRemoveError:t[3]||(t[3]=function(e){return a.removeError("newPassword")})},null,8,["error","modelValue"]),Object(r["m"])(i,{label:"Passwort bestätigen",id:"confirmPassword",type:"password",error:c.errors.confirmPassword,"error-message":"Die Passwörter stimmen nicht überein.",modelValue:c.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.confirmPassword=e}),onRemoveError:t[5]||(t[5]=function(e){return a.removeError("confirmPassword")})},null,8,["error","modelValue"]),Object(r["m"])(s,{loading:c.buttonLoading},{default:Object(r["L"])((function(){return[Lo]})),_:1},8,["loading"])],32)}var So={emits:["form-failed"],data:function(){return{oldPassword:"",newPassword:"",confirmPassword:"",errors:{oldPassword:!1,newPassword:!1,confirmPassword:!1},buttonLoading:!1}},methods:{removeError:function(e){this.errors[e]=!1},validateForm:function(){var e=[];this.oldPassword||(this.errors.oldPassword=!0,e.push("oldPassword"));var t=/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[._\-!?@#$%^&+=])./;return this.newPassword&&t.test(this.newPassword)?this.confirmPassword!==this.newPassword&&(this.errors.confirmPassword=!0,e.push("confirmPassword")):(this.errors.newPassword=!0,e.push("newPassword")),!e.length},submitForm:function(){var e=this,t=this.validateForm();if(t){var n={oldPassword:this.oldPassword,newPassword:this.newPassword,confirmPassword:this.confirmPassword},r="".concat("https://knowledgecafe.herokuapp.com/api","/account/change-password"),o={credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};this.buttonLoading=!0,fetch(r,o).then((function(e){return e.json()})).then((function(t){t.ok?e.$router.push({name:"login"}):e.$emit("form-failed",t.message)})).catch((function(t){console.log(t),e.$emit("form-failed")})).finally((function(){e.buttonLoading=!1}))}}}};n("332a");const Vo=a()(So,[["render",Po],["__scopeId","data-v-b219cd74"]]);var Co=Vo,zo=function(e){return Object(r["B"])("data-v-e4b170b4"),e=e(),Object(r["z"])(),e},Go={class:"logout"},qo=zo((function(){return Object(r["j"])("p",null,"Möchtest du dich aus deinem Konto ausloggen?",-1)})),xo=Object(r["l"])("Abmelden");function To(e,t,n,o,c,a){var i=Object(r["G"])("base-button");return Object(r["y"])(),Object(r["i"])("div",Go,[qo,Object(r["m"])(i,{loading:c.buttonLoading,onClick:a.logout},{default:Object(r["L"])((function(){return[xo]})),_:1},8,["loading","onClick"])])}var Fo={data:function(){return{buttonLoading:!1}},methods:{logout:function(){var e=this,t={credentials:"include"};this.buttonLoading=!0,fetch("".concat("https://knowledgecafe.herokuapp.com/api","/account/logout"),t).then((function(e){return e.json()})).then((function(t){t.ok?e.$router.push({name:"login"}):e.$emit("logout-failed")})).catch((function(t){console.log(t),e.$emit("logout-failed")})).finally((function(){e.buttonLoading=!1}))}}};n("af0f");const $o=a()(Fo,[["render",To],["__scopeId","data-v-e4b170b4"]]);var Ao=$o,Bo={components:{SettingsForm:Eo,SettingsPasswordEdit:Co,SettingsLogout:Ao},data:function(){return{viewMode:"",modalError:""}},computed:{userData:function(){return this.$store.getters["authentication/userData"]},modalTitle:function(){switch(this.viewMode){case"edit":return"Bearbeiten";case"password":return"Passwort ändern";case"logout":return"Abmelden";case"error":return"Fehler"}}},methods:{setView:function(e){this.viewMode=e},closeModal:function(){this.viewMode=""},emitError:function(e){var t=this;this.closeModal(),setTimeout((function(){t.viewMode="error",t.modalError=e||"Ein Fehler is aufgetreten."}),500)}},mounted:function(){var e=this.userData,t=e.name,n=e.email,r=e.username;"N/A"!==t&&"N/A"!==!n&&"N/A"!==!r||this.$store.dispatch("authentication/fetchUserData")}};n("e7bc");const No=a()(Bo,[["render",yo],["__scopeId","data-v-0d122361"]]);var Do=No,Ro={name:"dashboard",path:"/admin",redirect:"/admin/bestellungen",component:ut,beforeEnter:function(e,t,n){var r="".concat("https://knowledgecafe.herokuapp.com/api","/account/login"),o={credentials:"include"};fetch(r,o).then((function(e){return e.json()})).then((function(e){e.ok?n():n({name:"login"})})).catch((function(e){console.log(e)}))},children:[{name:"orders",path:"bestellungen",component:sn},{name:"events",path:"events",component:Tn},{name:"products",path:"produkte",component:Ir},{name:"team",path:"team",component:bo},{name:"settings",path:"einstellungen",component:Do}]},Uo={path:"/:pathMatch(.*)*",name:"not-found",redirect:"/"},Ho=Object(l["a"])({history:Object(l["b"])(),routes:[g,Ue,He,Ro,Uo]}),Zo=n("5502"),Ko={shopItems:function(e){return e.shopItems},cartItems:function(e){return e.cartItems},cartTotal:function(e){return e.cartItems.reduce((function(t,n){var r=e.shopItems.find((function(e){return e._id===n.id})),o=r.price;return t+o*n.quantity}),0)}},Jo=(n("c740"),n("a434"),{fetchItems:function(e,t){e.shopItems=t},addCartItem:function(e,t){var n=t.id,r=t.quantity,o=t.variation,c=e.cartItems.findIndex((function(e){return e.id===n&&e.variation===o}));if(-1!==c)e.cartItems[c].quantity+=r;else{var a=e.shopItems.find((function(e){return e._id===n})),i=a.name,s=a.price;e.cartItems.push({id:n,name:i,quantity:r,price:s,variation:o})}},removeCartItem:function(e,t){var n=t.id,r=t.variation,o=e.cartItems.findIndex((function(e){return e.id===n&&e.variation===r}));e.cartItems.splice(o,1)},clearCart:function(e){e.cartItems=[]}}),Yo={fetchItems:function(e,t){fetch("".concat("https://knowledgecafe.herokuapp.com/api","/shop")).then((function(e){return e.json()})).then((function(t){return e.commit("fetchItems",t.products)})).catch((function(e){return console.log(e)}))},addCartItem:function(e,t){e.commit("addCartItem",t)},removeCartItem:function(e,t){e.commit("removeCartItem",t)},clearCart:function(e){e.commit("clearCart")}},Qo={namespaced:!0,state:function(){return{shopItems:[],cartItems:[]}},getters:Ko,mutations:Jo,actions:Yo},Wo={loggedIn:function(e){return e.loggedIn},userData:function(e){var t=e.name,n=e.email,r=e.username,o=e.isAdmin;return{name:t,email:n,username:r,isAdmin:o}}},Xo={login:function(e){e.loggedIn=!0},fetchUserData:function(e,t){var n=t.name,r=t.email,o=t.username,c=t.role;e.name=n,e.email=r,e.username=o,e.isAdmin="admin"===c},updateUserData:function(e,t){var n=t.name,r=t.email,o=t.username;e.name=n,e.email=r,e.username=o}},ec={login:function(e){e.commit("login")},logout:function(e){e.commit("logout")},fetchUserData:function(e){fetch("".concat("https://knowledgecafe.herokuapp.com/api","/account/user"),{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.ok&&e.commit("fetchUserData",t)})).catch((function(e){console.log(e)}))},updateUserData:function(e,t){e.commit("updateUserData",t)}},tc={namespaced:!0,state:function(){return{loggedIn:!1,isAdmin:!1,name:"N/A",email:"N/A",username:"N/A"}},getters:Wo,mutations:Xo,actions:ec},nc={pendingOrders:function(e){return e.pendingOrders},eventStatus:function(e){return e.eventStatus}},rc={fetchOrders:function(e,t){e.pendingOrders=t},completeOrder:function(e,t){var n=e.pendingOrders.findIndex((function(e){return e._id===t}));e.pendingOrders.splice(n,1)},setEventStatus:function(e,t){e.eventStatus=t}},oc={fetchOrders:function(e){fetch("".concat("https://knowledgecafe.herokuapp.com/api","/orders/pending"),{credentials:"include"}).then((function(e){return e.json()})).then((function(t){if(t.ok){var n=t.orders,r=t.event;e.commit("setEventStatus",r?"active":"inactive"),e.commit("fetchOrders",r?n:[])}})).catch((function(e){console.log(e)}))},completeOrder:function(e,t){e.commit("completeOrder",t)},toggleEventStatus:function(e,t){e.commit("setEventStatus",t?"inactive":"active")}},cc={namespaced:!0,state:function(){return{pendingOrders:[],eventStatus:void 0}},getters:nc,mutations:rc,actions:oc},ac={eventList:function(e){return e.eventList}},ic={fetchEvents:function(e,t){e.eventList=t}},sc={fetchEvents:function(e){fetch("".concat("https://knowledgecafe.herokuapp.com/api","/events"),{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.ok&&e.commit("fetchEvents",t.events)})).catch((function(e){console.log(e)}))}},uc={namespaced:!0,state:function(){return{eventList:[]}},getters:ac,mutations:ic,actions:sc},lc={productList:function(e){return e.productList.sort((function(e,t){return e.name>t.name?1:-1}))}},dc={fetchProducts:function(e,t){e.productList=t},editProduct:function(e,t){var n=t.productId,r=t.productData,o=e.productList.findIndex((function(e){return e._id===n})),c=r.name,a=r.tag,i=r.description,s=r.price,u=r.variations;e.productList[o].name=c,e.productList[o].tag=a,e.productList[o].description=i,e.productList[o].price=s,e.productList[o].variations=u},newProduct:function(e,t){e.productList.push(t)},deleteProduct:function(e,t){var n=e.productList.findIndex((function(e){return e._id===t}));e.productList.splice(n,1)}},mc={fetchProducts:function(e){fetch("".concat("https://knowledgecafe.herokuapp.com/api","/products"),{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.ok&&e.commit("fetchProducts",t.products)})).catch((function(e){console.log(e)}))},editProduct:function(e,t){e.commit("editProduct",t)},newProduct:function(e,t){var n=t.productId,r=t.productData,o=n,c=r.name,a=r.tag,i=r.description,s=r.price,u=r.variations,l={revenue:0,unitsSold:0,variations:{}},d={_id:o,name:c,tag:a,description:i,price:s,variations:u,stats:l};e.commit("newProduct",d)},deleteProduct:function(e,t){e.commit("deleteProduct",t)}},bc={namespaced:!0,state:function(){return{productList:[]}},getters:lc,mutations:dc,actions:mc},fc={teamMembers:function(e){return e.teamMembers.sort((function(e,t){return e.name<t.name?-1:1}))}},hc={fetchTeamMembers:function(e,t){e.teamMembers=t},updateRole:function(e,t){var n=t.id,r=t.role,o=e.teamMembers.findIndex((function(e){return e._id===n}));e.teamMembers[o].role=r},removeMember:function(e,t){var n=t,r=e.teamMembers.findIndex((function(e){return e._id===n}));e.teamMembers.splice(r,1)}},pc={fetchTeamMembers:function(e){var t="".concat("https://knowledgecafe.herokuapp.com/api","/team"),n={credentials:"include"};fetch(t,n).then((function(e){return e.json()})).then((function(t){t.ok?e.commit("fetchTeamMembers",t.team):console.log(t.message)})).catch((function(e){console.log(e)}))},updateRole:function(e,t){e.commit("updateRole",t)},removeMember:function(e,t){e.commit("removeMember",t)}},vc={namespaced:!0,state:function(){return{teamMembers:[]}},getters:fc,mutations:hc,actions:pc},jc=Object(Zo["a"])({modules:{shop:Qo,authentication:tc,orders:cc,events:uc,products:bc,team:vc}}),Oc=Object(r["n"])((function(){return n.e("chunk-75fad511").then(n.bind(null,"9246"))})),gc=Object(r["n"])((function(){return n.e("chunk-0a7d3db9").then(n.bind(null,"b2ff"))})),_c=Object(r["n"])((function(){return n.e("chunk-6df27e54").then(n.bind(null,"86be"))})),yc=Object(r["n"])((function(){return n.e("chunk-22347ed0").then(n.bind(null,"3ebc"))})),wc=Object(r["n"])((function(){return n.e("chunk-5dc824e2").then(n.bind(null,"4549"))})),kc=Object(r["n"])((function(){return n.e("chunk-350b7c41").then(n.bind(null,"2891"))})),Mc=Object(r["n"])((function(){return n.e("chunk-6e4149c5").then(n.bind(null,"2540"))})),Ic=Object(r["n"])((function(){return n.e("chunk-a96ba67c").then(n.bind(null,"430f"))})),Ec=Object(r["n"])((function(){return n.e("chunk-c6b1dbdc").then(n.bind(null,"3a23"))})),Lc=Object(r["f"])(u);Lc.use(Ho),Lc.use(jc),Lc.component("IconLogo",Oc),Lc.component("BaseButton",yc),Lc.component("BaseTitle",wc),Lc.component("BaseCard",kc),Lc.component("BaseModal",gc),Lc.component("BaseSelect",_c),Lc.component("BaseTextbox",Mc),Lc.component("BaseLink",Ic),Lc.component("BaseInfo",Ec),Lc.mount("#app")},"590d":function(e,t,n){"use strict";n("0e8a")},7033:function(e,t,n){"use strict";n("fbdb")},"71ed":function(e,t,n){},"72ac":function(e,t,n){},"750f":function(e,t,n){"use strict";n("85ab")},"754a":function(e,t,n){"use strict";n("3601")},"75cb":function(e,t,n){"use strict";n("a317")},7641:function(e,t,n){},"7b9d":function(e,t,n){"use strict";n("32a2")},8430:function(e,t,n){},"85ab":function(e,t,n){},8898:function(e,t,n){},"8dfb":function(e,t,n){},"95b5":function(e,t,n){"use strict";n("fae3")},"95d4":function(e,t,n){},"994f":function(e,t,n){},"9c2a":function(e,t,n){"use strict";n("0a54")},"9f6c":function(e,t,n){},a317:function(e,t,n){},a442:function(e,t,n){"use strict";n("077b")},ab03:function(e,t,n){"use strict";n("507b")},aba9:function(e,t,n){"use strict";n("40e4")},ac0b:function(e,t,n){},ac18:function(e,t,n){"use strict";n("95d4")},af0f:function(e,t,n){"use strict";n("ccb6")},bfa8:function(e,t,n){"use strict";n("506b")},c04b:function(e,t,n){"use strict";n("c295")},c295:function(e,t,n){},c4e9:function(e,t,n){},c631:function(e,t,n){"use strict";n("3c49")},cb5f:function(e,t,n){"use strict";n("4596")},cb7b:function(e,t,n){},ccb6:function(e,t,n){},d0e3:function(e,t,n){"use strict";n("8dfb")},d4b4:function(e,t,n){"use strict";n("03d5")},de10:function(e,t,n){"use strict";n("f6a6")},e542:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o={class:"main"};function c(e,t){var n=Object(r["G"])("router-view");return Object(r["y"])(),Object(r["i"])("main",o,[Object(r["m"])(n)])}n("75cb");var a=n("6b0d"),i=n.n(a);const s={},u=i()(s,[["render",c],["__scopeId","data-v-6fd1e30b"]]);t["default"]=u},e7bc:function(e,t,n){"use strict";n("8898")},f6a6:function(e,t,n){},f6ca:function(e,t,n){"use strict";n("72ac")},fae3:function(e,t,n){},fbdb:function(e,t,n){}});
//# sourceMappingURL=app.f3593d61.js.map